---
category: Java
curated_by: Claude Sonnet 4.5
difficulty: medium
generated: 2026-02-09
interview_frequency: medium
prerequisites: []
related: []
sources: 1
subtopic: Garbage Collection
tags: []
---

# Garbage Collection (GC)

## ğŸ“ GCë€?

**JVMì—ì„œ ë©”ëª¨ë¦¬ ê´€ë¦¬ë¥¼ ìë™ìœ¼ë¡œ ìˆ˜í–‰í•˜ëŠ” í”„ë¡œì„¸ìŠ¤**

**ê°œë°œìê°€ ëª…ì‹œì ìœ¼ë¡œ ë©”ëª¨ë¦¬ ê´€ë¦¬ ë¶ˆí•„ìš”**

---

## ğŸ”‘ Weak Generational Hypothesis

**GC ë„ì…ì˜ ì „ì œ ê°€ì„¤**

### 1. ëŒ€ë¶€ë¶„ì˜ ê°ì²´ëŠ” ê¸ˆë°© ì ‘ê·¼ ë¶ˆê°€ëŠ¥ ìƒíƒœê°€ ë¨

```java
for (int i = 0; i < 1000; i++) {
    SampleObj obj = new SampleObj();
    obj.doTest(i);
}
```

**ë§ˆì§€ë§‰ í•œ ë²ˆ ì œì™¸ 999ë²ˆì˜ ê°ì²´ëŠ” ì¦‰ì‹œ unreachable**

---

### 2. ì˜¤ë˜ëœ ê°ì²´ì—ì„œ ì Šì€ ê°ì²´ë¡œì˜ ì°¸ì¡°ëŠ” ì ìŒ

```java
SampleObj obj = new SampleObj();
obj.setValue(1);
doTest(obj);
```

**ê°ì²´ ìƒì„± í›„ ë‹¤ë¥¸ ë©”ì„œë“œì— ì „ë‹¬í•˜ë©´ ë‹¤ì‹œ ì°¸ì¡° ì•ˆ í•¨**

---

## ğŸ’¡ GCì˜ ì—­í• 

1. **ë©”ëª¨ë¦¬ í• ë‹¹**
2. **ì‚¬ìš© ì¤‘ì¸ ë©”ëª¨ë¦¬ ì¸ì‹**
3. **ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë©”ëª¨ë¦¬ ì¸ì‹**

---

## ğŸ—‚ï¸ GC ìˆ˜í–‰ ì˜ì—­: Heap

**JVM ë©”ëª¨ë¦¬ ì˜ì—­:**
- í´ë˜ìŠ¤ ì˜ì—­
- ìë°” ìŠ¤íƒ
- **Heap** â† GC ìˆ˜í–‰
- ë„¤ì´í‹°ë¸Œ ë©”ì„œë“œ ìŠ¤íƒ

**ì´ìœ :** ìƒˆë¡œìš´ ê°ì²´ê°€ Heapì— í• ë‹¹ë˜ê¸° ë•Œë¬¸

---

## ğŸ“¦ Heap ì˜ì—­ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     New/Young ì˜ì—­          â”‚
â”‚  (Eden + Survivor1 + Survivor2) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        Old ì˜ì—­             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        Perm ì˜ì—­            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**New/Young:** ìƒì„±ëœ ì§€ ì–¼ë§ˆ ì•ˆ ëœ ê°ì²´

**Old:** ìƒì„±ëœ ì§€ ì˜¤ë˜ëœ ê°ì²´

**Perm:** Class, Method ë“± ì½”ë“œ ì €ì¥

---

## ğŸ‘¶ Minor GC

**New/Young ì˜ì—­ì˜ GC**

**ì•Œê³ ë¦¬ì¦˜:** Copy & Scavenge

### Young ì˜ì—­ êµ¬ì¡°

**Eden:**
- ê°ì²´ê°€ ìƒì„±ë˜ìë§ˆì ì €ì¥
- Eden ê°€ë“ ì°¨ë©´ Minor GC ë°œìƒ
- ì‚´ì•„ë‚¨ì€ ê°ì²´ëŠ” Survivorë¡œ ì´ë™

**Survivor:**
- Survivor1, Survivor2ë¡œ ë‚˜ë‰¨
- í•œ Survivor ê°€ë“ ì°¨ë©´ ì‚´ì•„ë‚¨ì€ ê°ì²´ë¥¼ ë‹¤ë¥¸ Survivorë¡œ ì´ë™
- **í•­ìƒ í•˜ë‚˜ëŠ” ë¹„ì–´ìˆì–´ì•¼ í•¨**
- ì˜¤ë˜ëœ ê°ì²´ëŠ” Oldë¡œ ì´ë™ (Promotion)

---

### Object Aging

**Survivor ì´ë™ ì‹œë§ˆë‹¤ age ê°’ ì¦ê°€**

**Object Headerì— ê¸°ë¡**

**ageë¥¼ ë³´ê³  Oldë¡œ Promotion ê²°ì •**

---

### Minor GC íŠ¹ì§•

âœ… ì†ë„ ë§¤ìš° ë¹ ë¦„
âœ… ì‘ì€ í¬ê¸° ë©”ëª¨ë¦¬ ì½œë ‰íŒ…ì— íš¨ê³¼ì 
âœ… ìì£¼ ì¼ì–´ë‚¨ â†’ ì§§ì€ ì•Œê³ ë¦¬ì¦˜ ì í•©

---

## ğŸ§“ Major GC (Full GC)

**Old ì˜ì—­ì˜ GC**

**ì•Œê³ ë¦¬ì¦˜:** Mark & Compact

### ë™ì‘ ê³¼ì •

1. **Mark:** ì°¸ì¡° ì—°ê²° ì•ˆ ëœ ê°ì²´ í‘œì‹œ
2. **Compact:** í‘œì‹œëœ ê°ì²´ ì‚­ì œ

---

### Major GC íŠ¹ì§•

âŒ ì†ë„ ë§¤ìš° ëŠë¦¼
âŒ Full GC ë„ì¤‘ ì• í”Œë¦¬ì¼€ì´ì…˜ ë©ˆì¶¤ (Stop The World)
âŒ ì„±ëŠ¥ê³¼ ì•ˆì •ì„±ì— í° ì˜í–¥

---

## ğŸ”„ GC ë°œìƒ ì‹œë‚˜ë¦¬ì˜¤

### 1. ê°ì²´ ìƒì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚ Eden â”‚ â† ìƒˆ ê°ì²´
â””â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2. Eden ê°€ë“ ì°¸

```
Minor GC ë°œìƒ
â†“
ì°¸ì¡° ì—†ëŠ” ê°ì²´ ì‚­ì œ
ì°¸ì¡° ì¤‘ì¸ ê°ì²´ â†’ Survivor
```

---

### 3. Survivor ê°€ë“ ì°¸

```
Minor GC ë°œìƒ
â†“
ì°¸ì¡° ì—†ëŠ” ê°ì²´ ì‚­ì œ
ì°¸ì¡° ì¤‘ì¸ ê°ì²´ â†’ ë‹¤ë¥¸ Survivor
```

---

### 4. ë°˜ë³µ í›„ Oldë¡œ ì´ë™

```
Survivorì—ì„œ ê³„ì† ì‚´ì•„ë‚¨ìŒ
â†“
Old ì˜ì—­ìœ¼ë¡œ Promotion
```

---

### 5. í° ê°ì²´

```
Eden â†’ Survivorë³´ë‹¤ í° ê°ì²´
â†“
ë°”ë¡œ Old ì˜ì—­ìœ¼ë¡œ ì´ë™
```

---

## âš™ï¸ GC ë™ì‘ ë°©ì‹

### 1. Stop The World

**GC ì‹¤í–‰ì„ ìœ„í•´ JVMì´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ ì¤‘ë‹¨**

**GC thread ì œì™¸ ëª¨ë“  thread ì‘ì—… ì¤‘ë‹¨**

**GC ì™„ë£Œ í›„ ì‘ì—… ì¬ê°œ**

**ì„±ëŠ¥ ê°œì„  = Stop The World ì‹œê°„ ì¤„ì´ê¸°**

---

### 2. Mark and Sweep

**Mark:** ì‚¬ìš©ë˜ëŠ” ë©”ëª¨ë¦¬ ì‹ë³„

**Sweep:** ì‚¬ìš© ì•ˆ ë˜ëŠ” ë©”ëª¨ë¦¬ í•´ì œ

**ê³¼ì •:**
1. Stop The World
2. ìŠ¤íƒì˜ ëª¨ë“  ë³€ìˆ˜/ê°ì²´ ìŠ¤ìº”
3. ì°¸ì¡° ê°ì²´ Mark
4. Mark ì•ˆ ëœ ê°ì²´ Sweep

---

### 3. Compact

**ê°ì²´ë“¤ì„ ê°€ê¹Œìš´ ê³³ìœ¼ë¡œ ëª¨ìŒ**

**Heap ë©”ëª¨ë¦¬ ì•„ë˜ìª½ìœ¼ë¡œ ì´ë™**

**ëª©ì :** ë©”ëª¨ë¦¬ íŒŒí¸í™” ìµœì†Œí™”

**íŒŒí¸í™”:** ë¹„ì–´ìˆëŠ” ê³µê°„ì´ ë–¨ì–´ì ¸ ìˆì–´ í° ê°ì²´ í• ë‹¹ ì–´ë ¤ì›€

---

## ğŸš¨ GCê°€ ì¤‘ìš”í•œ ì´ìœ 

**Minor GC:** 0.5~1ì´ˆ â†’ í° ë¬¸ì œ ì—†ìŒ

**Full GC:** ì‹œê°„ ì˜¤ë˜ ê±¸ë¦¼ â†’ ì• í”Œë¦¬ì¼€ì´ì…˜ ë©ˆì¶¤

**ë¬¸ì œ:**
- ì‚¬ìš©ì ìš”ì²­ì´ Queueì— ëŒ€ê¸°
- ìˆœê°„ì ìœ¼ë¡œ ìš”ì²­ í•œêº¼ë²ˆì— ì²˜ë¦¬
- ê³¼ë¶€í•˜ë¡œ ì¥ì•  ë°œìƒ ê°€ëŠ¥

**ê²°ë¡ :** GC ìµœì í™”ê°€ ì‹œìŠ¤í…œ ì•ˆì •ì„±ê³¼ ì„±ëŠ¥ì— ì¤‘ìš”

---

## ğŸ”§ GC ì•Œê³ ë¦¬ì¦˜

### 1. Serial GC

**32bit JVM, Single Thread ì• í”Œë¦¬ì¼€ì´ì…˜**

**íŠ¹ì§•:**
- Minor/Major GC ëª¨ë‘ Single Thread
- Mark-Sweep-Compact ì•Œê³ ë¦¬ì¦˜

---

### 2. Parallel GC (Throughput GC)

**Java 8 ê¸°ë³¸ GC**

**íŠ¹ì§•:**
- Minor GC: Multi Thread
- Major GC: Single Thread
- ë©”ëª¨ë¦¬ ì¶©ë¶„, ì½”ì–´ ë§ì„ ë•Œ ìœ ë¦¬

---

### 3. Parallel Old GC

**Java 8 ë””í´íŠ¸ (ì—„ë°€íˆ)**

**íŠ¹ì§•:**
- Major GCë„ Multi Thread
- Mark-Summary-Compact ì•Œê³ ë¦¬ì¦˜

---

### 4. CMS Collector (Concurrent Mark-Sweep)

**Low Latency GC**

**ë‹¨ê³„:**
1. **Initial Mark:** ê°€ê¹Œìš´ ê°ì²´ë§Œ (ì§§ìŒ)
2. **Concurrent Mark:** ì°¸ì¡° í™•ì¸ (STW ì—†ìŒ)
3. **Remark:** ìƒˆë¡œ ì¶”ê°€/ëŠê¸´ ê°ì²´ í™•ì¸
4. **Concurrent Sweep:** ì“°ë ˆê¸° ì •ë¦¬ (STW ì—†ìŒ)

**ì¥ì :** Stop The World ì‹œê°„ ë§¤ìš° ì§§ìŒ

**ë‹¨ì :**
- ë©”ëª¨ë¦¬/CPU ë§ì´ ì‚¬ìš©
- ë©”ëª¨ë¦¬ íŒŒí¸í™”
- Compaction ê¸°ë³¸ ì œê³µ ì•ˆ í•¨

---

### 5. G1 Collector (Garbage First)

**Java 9 ê¸°ë³¸ GC**

**íŠ¹ì§•:**
- Heapì„ Regionìœ¼ë¡œ ë‚˜ëˆ”
- Humongous: í° ê°ì²´ ì €ì¥
- Available/Unused: ë¯¸ì‚¬ìš© Region
- ê°€ì¥ ë§ì´ ê³µê°„ ìˆëŠ” ê³³ë¶€í„° íšŒìˆ˜

**ì¥ì :**
- CMSì˜ CPU/ë©”ëª¨ë¦¬ íŒŒí¸í™” ë‹¨ì  í•´ê²°

---

### G1 GC Cycle

**Young-Only Phase:**
- Minor GC ìˆ˜í–‰
- Old Generation ë¹„ìœ¨ ì´ˆê³¼ ì‹œ Major GC

**Space Reclamation Phase:**
- Mixed GC ìˆ˜í–‰
- Mark ë‹¨ê³„ ì—†ìŒ
- STW ë¹ˆë„ ê°ì†Œ

---

## â“ ë©´ì ‘ ì§ˆë¬¸ ì˜ˆì‹œ

### Q1. GCì˜ ì‹¤í–‰ ì‹œì ì€?

**ë‹µë³€:**
Minor GCëŠ” Young ì˜ì—­(Eden ë˜ëŠ” Survivor)ì´ ê°€ë“ ì°¼ì„ ë•Œ ì‹¤í–‰ë©ë‹ˆë‹¤. Major GCëŠ” Old ì˜ì—­ì´ ê°€ë“ ì°¼ì„ ë•Œ ì‹¤í–‰ë˜ë©°, Full GCëŠ” Heap ì „ì²´ê°€ ê°€ë“ ì°¼ì„ ë•Œ ì‹¤í–‰ë©ë‹ˆë‹¤.

### Q2. GCê°€ ì–´ë–¤ ì›ë¦¬ë¡œ ë™ì‘í•˜ë‚˜ìš”?

**ë‹µë³€:**
GCëŠ” 1) Stop The Worldë¡œ ëª¨ë“  ì• í”Œë¦¬ì¼€ì´ì…˜ ìŠ¤ë ˆë“œë¥¼ ì¤‘ë‹¨í•˜ê³ , 2) Mark ë‹¨ê³„ì—ì„œ ì‚¬ìš© ì¤‘ì¸ ë©”ëª¨ë¦¬ë¥¼ ì‹ë³„í•˜ë©°, 3) Sweep ë‹¨ê³„ì—ì„œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë©”ëª¨ë¦¬ë¥¼ í•´ì œí•˜ê³ , 4) Compact ë‹¨ê³„ì—ì„œ ë©”ëª¨ë¦¬ íŒŒí¸í™”ë¥¼ ìµœì†Œí™”í•˜ê¸° ìœ„í•´ ê°ì²´ë“¤ì„ ëª¨ìë‹ˆë‹¤.

### Q3. Minor GCì™€ Major GCì˜ ì°¨ì´ì ì€?

**ë‹µë³€:**
Minor GCëŠ” Young ì˜ì—­ì—ì„œ ë°œìƒí•˜ë©° Copy & Scavenge ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ê³  ì†ë„ê°€ ë§¤ìš° ë¹ ë¦…ë‹ˆë‹¤. Major GCëŠ” Old ì˜ì—­ì—ì„œ ë°œìƒí•˜ë©° Mark & Compact ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ê³  ì†ë„ê°€ ëŠë¦¬ë©° ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë©ˆì¶”ëŠ” Stop The Worldê°€ ë°œìƒí•©ë‹ˆë‹¤.

### Q4. Weak Generational Hypothesisë€?

**ë‹µë³€:**
GC ë„ì…ì˜ ì „ì œ ê°€ì„¤ë¡œ 1) ëŒ€ë¶€ë¶„ì˜ ê°ì²´ëŠ” ê¸ˆë°© ì ‘ê·¼ ë¶ˆê°€ëŠ¥ ìƒíƒœê°€ ë˜ê³ , 2) ì˜¤ë˜ëœ ê°ì²´ì—ì„œ ì Šì€ ê°ì²´ë¡œì˜ ì°¸ì¡°ëŠ” ì•„ì£¼ ì ê²Œ ì¡´ì¬í•œë‹¤ëŠ” ê°€ì„¤ì…ë‹ˆë‹¤. ì´ ë•Œë¬¸ì— Heapì„ Young ì˜ì—­ê³¼ Old ì˜ì—­ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ê´€ë¦¬í•©ë‹ˆë‹¤.

### Q5. G1 GCì˜ íŠ¹ì§•ì€?

**ë‹µë³€:**
G1 GCëŠ” Heapì„ ë°”ë‘‘íŒì²˜ëŸ¼ Regionìœ¼ë¡œ ë‚˜ëˆ„ì–´ ê´€ë¦¬í•˜ë©°, ê°€ì¥ ë§ì´ ê³µê°„ì´ ìˆëŠ” ê³³ë¶€í„° ë©”ëª¨ë¦¬ë¥¼ íšŒìˆ˜í•©ë‹ˆë‹¤. CMSì˜ CPU ë¦¬ì†ŒìŠ¤ ë° ë©”ëª¨ë¦¬ íŒŒí¸í™” ë‹¨ì ì„ í•´ê²°í–ˆìœ¼ë©°, Java 9ë¶€í„° ê¸°ë³¸ GCë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.

---

## ğŸ“š ì›ë³¸ ì°¸ê³  ìë£Œ

### ì¶œì²˜: 2023-CS-Study
- ë§í¬: [java_gc.md](https://github.com/devSquad-study/2023-CS-Study/blob/main/Java/java_gc.md)
- ë‚´ìš©: Garbage Collection, GC ì•Œê³ ë¦¬ì¦˜, Heap êµ¬ì¡°

### ì¶”ê°€ í•™ìŠµ ìë£Œ

- [ëª…í’ˆìë°”ì—ì„¼ì…œ](http://www.yes24.com/Product/Goods/63041975)
- [Java Garbage Collection](https://d2.naver.com/helloworld/1329)
- [Java Referenceì™€ GC](https://d2.naver.com/helloworld/329631)
- [GC ì¢…ë¥˜ ë° ë‚´ë¶€ ì›ë¦¬](https://dongwooklee96.github.io/post/2021/04/04/gcgarbage-collector-%EC%A2%85%EB%A5%98-%EB%B0%8F-%EB%82%B4%EB%B6%80-%EC%9B%90%EB%A6%AC.html)
- [[Java] GC(Garbage Collection)ì´ë€?](https://steady-coding.tistory.com/584)